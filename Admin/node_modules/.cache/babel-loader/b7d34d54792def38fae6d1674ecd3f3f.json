{"ast":null,"code":"var _jsxFileName = \"E:\\\\web\\\\Admin\\\\src\\\\Component\\\\AddBook.js\";\nimport React from 'react';\nimport './custom.css';\nimport Layout from '../Layout/Layout';\nimport { Form, Button, message, Input } from 'antd';\nexport default class AddBook extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n\n    this.onReset = () => {\n      this.setState({\n        name: ''\n      });\n      this.setState({\n        author: ''\n      });\n      this.setState({\n        year: ''\n      });\n      this.setState({\n        url: ''\n      });\n      this.setState({\n        stock: ''\n      });\n      this.formRef.current.resetFields();\n    };\n\n    this.onChangeName = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.onChangeAuthor = e => {\n      this.setState({\n        author: e.target.value\n      });\n    };\n\n    this.onChangeYear = e => {\n      this.setState({\n        year: e.target.value\n      });\n    };\n\n    this.onChangeUrl = e => {\n      this.setState({\n        url: e.target.value\n      });\n    };\n\n    this.onChangeStock = e => {\n      this.setState({\n        stock: e.target.value\n      });\n    };\n\n    this.layout = {\n      labelCol: {\n        span: 8\n      },\n      wrapperCol: {\n        span: 14\n      }\n    };\n    this.tailLayout = {\n      wrapperCol: {\n        offset: 5,\n        span: 16\n      }\n    };\n    this.tailLayout1 = {\n      wrapperCol: {\n        offset: 6,\n        span: 16\n      }\n    };\n\n    this.insert = async () => {\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          author: this.state.author,\n          year: this.state.year,\n          url: this.state.url,\n          stock: this.state.stock\n        })\n      };\n      await fetch('/Addbook', requestOptions).then(response => response.json()).then(myJson => {\n        if (myJson.status == 'Pass') {\n          message.info('การเพิ่มหนังสือสำเร็จ');\n          this.onReset();\n        } else {\n          message.info('ไม่สามารถเพิ่มหนังสือได้');\n        }\n      });\n    };\n\n    this.onClick = () => {\n      if (this.state.name == '' || this.state.author == '' || this.state.year == '' || this.state.url == '' || this.state.stock == '') {\n        message.info('กรุณากรอกข้อมูลให้ครบ');\n      } else {\n        if (this.state.year.length != 4) {\n          message.info('กรุณาตรวจข้อมูล');\n        } else {\n          console.log(this.state.name);\n          console.log(this.state.author);\n          console.log(this.state.year);\n          console.log(this.state.url);\n          console.log(this.state.stock);\n          this.insert();\n        }\n      }\n    };\n\n    this.state = {\n      name: '',\n      author: '',\n      year: '',\n      url: '',\n      stock: 0\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form, Object.assign({}, this.layout, {\n      name: \"basic\",\n      ref: this.formRef,\n      style: {\n        marginRight: '10%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, this.tailLayout1, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: 'black',\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, \"Add Book\")), /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 29\n        }\n      }, \"Name\"),\n      name: \"Name\",\n      rules: [{\n        required: true,\n        message: 'Please input Name!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"input1\",\n      onChange: this.onChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 30\n        }\n      }, \"Author\"),\n      name: \"Author\",\n      rules: [{\n        required: true,\n        message: 'Please input Author!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"input2\",\n      onChange: this.onChangeAuthor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 30\n        }\n      }, \"Year\"),\n      name: \"Year\",\n      rules: [{\n        required: true,\n        message: 'Please input Year!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"input3\",\n      type: \"number\",\n      onChange: this.onChangeYear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 30\n        }\n      }, \"URL\"),\n      name: \"URL\",\n      rules: [{\n        required: true,\n        message: 'Please input URL!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"input4\",\n      onChange: this.onChangeUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, {\n      label: /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: 'black',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 30\n        }\n      }, \"stock\"),\n      name: \"stock\",\n      rules: [{\n        required: true,\n        message: 'Please input stock!'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      id: \"input5\",\n      type: \"number\",\n      onChange: this.onChangeStock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, this.tailLayout1, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.onClick(),\n      style: {\n        width: '10vh'\n      },\n      type: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    }, \"Submit\"), \"\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: '10vh'\n      },\n      type: \"primary\",\n      onClick: () => this.onReset(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, \"Reset\")))));\n  }\n\n}","map":{"version":3,"sources":["E:/web/Admin/src/Component/AddBook.js"],"names":["React","Layout","Form","Button","message","Input","AddBook","Component","constructor","props","formRef","createRef","onReset","setState","name","author","year","url","stock","current","resetFields","onChangeName","e","target","value","onChangeAuthor","onChangeYear","onChangeUrl","onChangeStock","layout","labelCol","span","wrapperCol","tailLayout","offset","tailLayout1","insert","requestOptions","method","headers","body","JSON","stringify","state","fetch","then","response","json","myJson","status","info","onClick","length","console","log","render","marginRight","color","fontWeight","required","width"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,cAAP;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,OAAvB,EAAgCC,KAAhC,QAA6C,MAA7C;AACA,eAAe,MAAMC,OAAN,SAAsBN,KAAK,CAACO,SAA5B,CAAsC;AAEnDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AADiB,SAWnBC,OAXmB,GAWTV,KAAK,CAACW,SAAN,EAXS;;AAAA,SAanBC,OAbmB,GAaR,MAAM;AACf,WAAKC,QAAL,CAAc;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAd;AACA,WAAKD,QAAL,CAAc;AAACE,QAAAA,MAAM,EAAC;AAAR,OAAd;AACA,WAAKF,QAAL,CAAc;AAACG,QAAAA,IAAI,EAAC;AAAN,OAAd;AACA,WAAKH,QAAL,CAAc;AAACI,QAAAA,GAAG,EAAC;AAAL,OAAd;AACA,WAAKJ,QAAL,CAAc;AAACK,QAAAA,KAAK,EAAC;AAAP,OAAd;AACA,WAAKR,OAAL,CAAaS,OAAb,CAAqBC,WAArB;AACD,KApBkB;;AAAA,SAsBnBC,YAtBmB,GAsBHC,CAAD,IAAO;AACpB,WAAKT,QAAL,CAAc;AAACC,QAAAA,IAAI,EAACQ,CAAC,CAACC,MAAF,CAASC;AAAf,OAAd;AACD,KAxBkB;;AAAA,SA0BnBC,cA1BmB,GA0BDH,CAAD,IAAO;AACtB,WAAKT,QAAL,CAAc;AAACE,QAAAA,MAAM,EAACO,CAAC,CAACC,MAAF,CAASC;AAAjB,OAAd;AACD,KA5BkB;;AAAA,SA8BnBE,YA9BmB,GA8BHJ,CAAD,IAAO;AACpB,WAAKT,QAAL,CAAc;AAACG,QAAAA,IAAI,EAACM,CAAC,CAACC,MAAF,CAASC;AAAf,OAAd;AACD,KAhCkB;;AAAA,SAkCnBG,WAlCmB,GAkCJL,CAAD,IAAO;AACnB,WAAKT,QAAL,CAAc;AAACI,QAAAA,GAAG,EAACK,CAAC,CAACC,MAAF,CAASC;AAAd,OAAd;AACD,KApCkB;;AAAA,SAsCnBI,aAtCmB,GAsCFN,CAAD,IAAO;AACrB,WAAKT,QAAL,CAAc;AAACK,QAAAA,KAAK,EAACI,CAAC,CAACC,MAAF,CAASC;AAAhB,OAAd;AACD,KAxCkB;;AAAA,SA0CnBK,MA1CmB,GA0CV;AACPC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,IAAI,EAAE;AADE,OADH;AAIPC,MAAAA,UAAU,EAAE;AACVD,QAAAA,IAAI,EAAE;AADI;AAJL,KA1CU;AAAA,SAmDnBE,UAnDmB,GAmDN;AACXD,MAAAA,UAAU,EAAE;AACVE,QAAAA,MAAM,EAAE,CADE;AAEVH,QAAAA,IAAI,EAAE;AAFI;AADD,KAnDM;AAAA,SA0DnBI,WA1DmB,GA0DL;AACZH,MAAAA,UAAU,EAAE;AACVE,QAAAA,MAAM,EAAE,CADE;AAEVH,QAAAA,IAAI,EAAE;AAFI;AADA,KA1DK;;AAAA,SAiEnBK,MAjEmB,GAiEV,YAAW;AAClB,YAAMC,cAAc,GAAG;AACrBC,QAAAA,MAAM,EAAE,MADa;AAErBC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAFY;AAKrBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAE5B,UAAAA,IAAI,EAAE,KAAK6B,KAAL,CAAW7B,IAAnB;AAAyBC,UAAAA,MAAM,EAAG,KAAK4B,KAAL,CAAW5B,MAA7C;AAAqDC,UAAAA,IAAI,EAAC,KAAK2B,KAAL,CAAW3B,IAArE;AAA0EC,UAAAA,GAAG,EAAC,KAAK0B,KAAL,CAAW1B,GAAzF;AAA6FC,UAAAA,KAAK,EAAC,KAAKyB,KAAL,CAAWzB;AAA9G,SAAf;AALe,OAAvB;AAOA,YAAM0B,KAAK,CAAC,UAAD,EAAaP,cAAb,CAAL,CACHQ,IADG,CACEC,QAAQ,IAAGA,QAAQ,CAACC,IAAT,EADb,EAEHF,IAFG,CAEEG,MAAM,IAAG;AACb,YAAGA,MAAM,CAACC,MAAP,IAAiB,MAApB,EACA;AACE7C,UAAAA,OAAO,CAAC8C,IAAR,CAAa,uBAAb;AACA,eAAKtC,OAAL;AACD,SAJD,MAKI;AACFR,UAAAA,OAAO,CAAC8C,IAAR,CAAa,0BAAb;AACD;AACF,OAXG,CAAN;AAYD,KArFkB;;AAAA,SAuFnBC,OAvFmB,GAuFT,MAAM;AACd,UAAG,KAAKR,KAAL,CAAW7B,IAAX,IAAmB,EAAnB,IAAyB,KAAK6B,KAAL,CAAW5B,MAAX,IAAqB,EAA9C,IAAoD,KAAK4B,KAAL,CAAW3B,IAAX,IAAmB,EAAvE,IAA6E,KAAK2B,KAAL,CAAW1B,GAAX,IAAkB,EAA/F,IAAqG,KAAK0B,KAAL,CAAWzB,KAAX,IAAoB,EAA5H,EACA;AACEd,QAAAA,OAAO,CAAC8C,IAAR,CAAa,uBAAb;AACD,OAHD,MAKA;AACE,YAAG,KAAKP,KAAL,CAAW3B,IAAX,CAAgBoC,MAAhB,IAA0B,CAA7B,EACA;AACEhD,UAAAA,OAAO,CAAC8C,IAAR,CAAa,iBAAb;AACD,SAHD,MAKA;AACIG,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAW7B,IAAvB;AACAuC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAW5B,MAAvB;AACAsC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAW3B,IAAvB;AACAqC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAW1B,GAAvB;AACAoC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWzB,KAAvB;AACA,eAAKkB,MAAL;AACH;AACF;AACF,KA5GkB;;AAEjB,SAAKO,KAAL,GAAa;AACX7B,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,MAAM,EAAE,EAFG;AAGXC,MAAAA,IAAI,EAAC,EAHM;AAIXC,MAAAA,GAAG,EAAE,EAJM;AAKXC,MAAAA,KAAK,EAAG;AALG,KAAb;AAOD;;AAqGDqC,EAAAA,MAAM,GAAG;AACP,wBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,oBAAU,KAAK1B,MAAf;AAAuB,MAAA,IAAI,EAAC,OAA5B;AAAoC,MAAA,GAAG,EAAE,KAAKnB,OAA9C;AAAuD,MAAA,KAAK,EAAE;AAAC8C,QAAAA,WAAW,EAAC;AAAb,OAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,oBAAC,IAAD,CAAM,IAAN,oBAAe,KAAKrB,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE;AAAO,MAAA,KAAK,EAAE;AAAEsB,QAAAA,KAAK,EAAE,OAAT;AAAiBC,QAAAA,UAAU,EAAC;AAA5B,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,CADF,eAKE,oBAAC,IAAD,CAAM,IAAN;AAAW,MAAA,KAAK,eAAE;AAAO,QAAA,KAAK,EAAE;AAAED,UAAAA,KAAK,EAAE,OAAT;AAAiBC,UAAAA,UAAU,EAAC;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAlB;AAAoF,MAAA,IAAI,EAAC,MAAzF;AAAgG,MAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvD,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAqB,MAAA,QAAQ,EAAE,KAAKiB,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,eASE,oBAAC,IAAD,CAAM,IAAN;AAAY,MAAA,KAAK,eAAE;AAAO,QAAA,KAAK,EAAE;AAAEoC,UAAAA,KAAK,EAAE,OAAT;AAAiBC,UAAAA,UAAU,EAAC;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAnB;AAAwF,MAAA,IAAI,EAAC,QAA7F;AAAsG,MAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvD,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAqB,MAAA,QAAQ,EAAE,KAAKqB,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CATF,eAaE,oBAAC,IAAD,CAAM,IAAN;AAAY,MAAA,KAAK,eAAE;AAAO,QAAA,KAAK,EAAE;AAAEgC,UAAAA,KAAK,EAAE,OAAT;AAAiBC,UAAAA,UAAU,EAAC;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAnB;AAAsF,MAAA,IAAI,EAAC,MAA3F;AAAkG,MAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvD,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAqB,MAAA,IAAI,EAAG,QAA5B;AAAsC,MAAA,QAAQ,EAAE,KAAKsB,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAbF,eAiBE,oBAAC,IAAD,CAAM,IAAN;AAAY,MAAA,KAAK,eAAE;AAAO,QAAA,KAAK,EAAE;AAAE+B,UAAAA,KAAK,EAAE,OAAT;AAAiBC,UAAAA,UAAU,EAAC;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAnB;AAAqF,MAAA,IAAI,EAAC,KAA1F;AAAgG,MAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvD,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAqB,MAAA,QAAQ,EAAE,KAAKuB,WAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAjBF,eAqBE,oBAAC,IAAD,CAAM,IAAN;AAAY,MAAA,KAAK,eAAE;AAAO,QAAA,KAAK,EAAE;AAAE8B,UAAAA,KAAK,EAAE,OAAT;AAAiBC,UAAAA,UAAU,EAAC;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAnB;AAAuF,MAAA,IAAI,EAAC,OAA5F;AAAoG,MAAA,KAAK,EAAE,CAAC;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvD,QAAAA,OAAO,EAAE;AAA3B,OAAD,CAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,EAAE,EAAG,QAAZ;AAAqB,MAAA,IAAI,EAAG,QAA5B;AAAqC,MAAA,QAAQ,EAAE,KAAKwB,aAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CArBF,eAyBE,oBAAC,IAAD,CAAM,IAAN,oBAAe,KAAKO,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAI,MAAM,KAAKgB,OAAL,EAAzB;AAAyC,MAAA,KAAK,EAAI;AAAES,QAAAA,KAAK,EAAE;AAAT,OAAlD;AAAoE,MAAA,IAAI,EAAC,SAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,+BAKE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAI;AAAEA,QAAAA,KAAK,EAAE;AAAT,OAAjB;AAAmC,MAAA,IAAI,EAAC,SAAxC;AAAkD,MAAA,OAAO,EAAE,MAAM,KAAKhD,OAAL,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,CADF,CAzBF,CADF,CADF;AA2CD;;AA5JkD","sourcesContent":["import React from 'react';\r\nimport './custom.css'\r\nimport Layout from '../Layout/Layout';\r\nimport { Form, Button, message, Input } from 'antd';\r\nexport default class AddBook extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      author: '',\r\n      year:'',\r\n      url: '',\r\n      stock : 0\r\n    };\r\n  }\r\n  \r\n  formRef = React.createRef();\r\n\r\n  onReset =  () => {\r\n    this.setState({name:''});\r\n    this.setState({author:''});\r\n    this.setState({year:''});\r\n    this.setState({url:''});\r\n    this.setState({stock:''});\r\n    this.formRef.current.resetFields();\r\n  };\r\n  \r\n  onChangeName = (e) => {\r\n    this.setState({name:e.target.value})\r\n  };\r\n\r\n  onChangeAuthor = (e) => {\r\n    this.setState({author:e.target.value})\r\n  };\r\n\r\n  onChangeYear = (e) => {\r\n    this.setState({year:e.target.value})\r\n  };\r\n\r\n  onChangeUrl = (e) => {\r\n    this.setState({url:e.target.value})\r\n  };\r\n\r\n  onChangeStock = (e) => {\r\n    this.setState({stock:e.target.value})\r\n  };\r\n\r\n  layout = {\r\n    labelCol: {\r\n      span: 8,\r\n    },\r\n    wrapperCol: {\r\n      span: 14,\r\n    },\r\n  };\r\n\r\n  tailLayout = {\r\n    wrapperCol: {\r\n      offset: 5,\r\n      span: 16,\r\n    },\r\n  };\r\n\r\n  tailLayout1 = {\r\n    wrapperCol: {\r\n      offset: 6,\r\n      span: 16,\r\n    },\r\n  };\r\n\r\n  insert = async() => {\r\n    const requestOptions = {\r\n      method: 'POST',\r\n      headers: { \r\n          'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ name: this.state.name ,author : this.state.author, year:this.state.year,url:this.state.url,stock:this.state.stock})\r\n    };\r\n    await fetch('/Addbook', requestOptions)\r\n      .then(response=> response.json())\r\n      .then(myJson=> {\r\n        if(myJson.status == 'Pass')\r\n        {\r\n          message.info('การเพิ่มหนังสือสำเร็จ'); \r\n          this.onReset()\r\n        }\r\n        else{\r\n          message.info('ไม่สามารถเพิ่มหนังสือได้'); \r\n        }\r\n      }) \r\n  }\r\n\r\n  onClick = () => {\r\n    if(this.state.name == '' || this.state.author == '' || this.state.year == '' || this.state.url == '' || this.state.stock == '')\r\n    {\r\n      message.info('กรุณากรอกข้อมูลให้ครบ');\r\n    }\r\n    else\r\n    {\r\n      if(this.state.year.length != 4)\r\n      {\r\n        message.info('กรุณาตรวจข้อมูล');\r\n      }\r\n      else\r\n      {\r\n          console.log(this.state.name);\r\n          console.log(this.state.author);\r\n          console.log(this.state.year);\r\n          console.log(this.state.url);\r\n          console.log(this.state.stock);\r\n          this.insert()\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Form {...this.layout} name=\"basic\" ref={this.formRef} style={{marginRight:'10%'}} >\r\n          <Form.Item {...this.tailLayout1}>\r\n            <label style={{ color: 'black',fontWeight:'bold'}}>Add Book</label>\r\n          </Form.Item>\r\n          \r\n          <Form.Item label={<label style={{ color: 'black',fontWeight:'bold' }}>Name</label>} name=\"Name\" rules={[{ required: true, message: 'Please input Name!' },]} >\r\n            <Input id = 'input1' onChange={this.onChangeName}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item  label={<label style={{ color: 'black',fontWeight:'bold' }}>Author</label>}  name=\"Author\" rules={[{ required: true, message: 'Please input Author!' }]} >\r\n            <Input id = 'input2' onChange={this.onChangeAuthor}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item  label={<label style={{ color: 'black',fontWeight:'bold' }}>Year</label>}  name=\"Year\" rules={[{ required: true, message: 'Please input Year!' }]} >\r\n            <Input id = 'input3' type = 'number'  onChange={this.onChangeYear}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item  label={<label style={{ color: 'black',fontWeight:'bold' }}>URL</label>}  name=\"URL\" rules={[{ required: true, message: 'Please input URL!' }]} >\r\n            <Input id = 'input4' onChange={this.onChangeUrl}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item  label={<label style={{ color: 'black',fontWeight:'bold' }}>stock</label>}  name=\"stock\" rules={[{ required: true, message: 'Please input stock!' }]} >\r\n            <Input id = 'input5' type = 'number' onChange={this.onChangeStock}/>\r\n          </Form.Item>\r\n\r\n          <Form.Item {...this.tailLayout1}>\r\n            <div>\r\n              <Button onClick = {() => this.onClick()} style = {{ width: '10vh'}} type=\"primary\" >\r\n                Submit\r\n              </Button>\r\n              &nbsp;&nbsp;&nbsp;\r\n              <Button style = {{ width: '10vh'}} type=\"primary\" onClick={() => this.onReset()} >\r\n                Reset\r\n              </Button>\r\n            </div>\r\n          </Form.Item>\r\n\r\n        </Form>\r\n      </Layout>\r\n      \r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}