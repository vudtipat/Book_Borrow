{"ast":null,"code":"var _jsxFileName = \"E:\\\\web\\\\Admin\\\\src\\\\Component\\\\Homepage.js\";\nimport React from 'react';\nimport { Table, message, Button, Input, Menu, Tag, Space } from 'antd';\nimport Layout from '../Layout/Layout';\nimport { SearchOutlined } from '@ant-design/icons';\nexport default class Homepage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = (selectedKeys, confirm, dataIndex) => {\n      confirm();\n      this.setState({\n        searchText: selectedKeys[0],\n        searchedColumn: dataIndex\n      });\n    };\n\n    this.handleReset = clearFilters => {\n      clearFilters();\n      this.setState({\n        searchText: ''\n      });\n    };\n\n    this.getColumnSearchProps = dataIndex => ({\n      filterDropdown: ({\n        setSelectedKeys,\n        selectedKeys,\n        confirm,\n        clearFilters\n      }) => /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        ref: node => {\n          this.searchInput = node;\n        },\n        placeholder: `Search ${dataIndex}`,\n        value: selectedKeys[0],\n        onChange: e => setSelectedKeys(e.target.value ? [e.target.value] : []),\n        onPressEnter: () => this.handleSearch(selectedKeys, confirm, dataIndex),\n        style: {\n          width: 188,\n          marginBottom: 8,\n          display: 'block'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        type: \"primary\",\n        onClick: () => this.handleSearch(selectedKeys, confirm, dataIndex),\n        icon: /*#__PURE__*/React.createElement(SearchOutlined, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }\n        }),\n        size: \"small\",\n        style: {\n          width: 90\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, \"Search\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.handleReset(clearFilters),\n        size: \"small\",\n        style: {\n          width: 90\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, \"Reset\"))),\n      filterIcon: filtered => /*#__PURE__*/React.createElement(SearchOutlined, {\n        style: {\n          color: filtered ? '#1890ff' : undefined\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }\n      }),\n      onFilter: (value, record) => record[dataIndex] ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()) : '',\n      onFilterDropdownVisibleChange: visible => {\n        if (visible) {\n          setTimeout(() => this.searchInput.select(), 100);\n        }\n      }\n    });\n\n    this.columns = [{\n      title: 'UserName',\n      dataIndex: 'username',\n      key: 'username',\n      ...this.getColumnSearchProps('username')\n    }, {\n      title: 'BookID',\n      dataIndex: 'BookID',\n      key: 'BookID'\n    }, {\n      title: 'BookName',\n      dataIndex: 'Name',\n      key: 'Name'\n    }, {\n      title: 'StartDay',\n      dataIndex: 'startday',\n      key: 'startday',\n      ...this.getColumnSearchProps('startday')\n    }, {\n      title: 'EndDay',\n      dataIndex: 'endday',\n      key: 'endday',\n      ...this.getColumnSearchProps('endday')\n    }, {\n      title: 'Status',\n      key: 'status',\n      dataIndex: 'status',\n      render: status => status == 0 ? /*#__PURE__*/React.createElement(Tag, {\n        color: \"blue\",\n        key: status,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E21\\u0E32\\u0E23\\u0E31\\u0E1A\") : status == 1 ? /*#__PURE__*/React.createElement(Tag, {\n        color: \"volcano\",\n        key: status,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, \"\\u0E21\\u0E32\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E25\\u0E49\\u0E27\") : /*#__PURE__*/React.createElement(Tag, {\n        color: \"green\",\n        key: status,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }\n      }, \"\\u0E04\\u0E37\\u0E19\\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\"),\n      filters: [{\n        text: 0,\n        value: 0\n      }, {\n        text: 1,\n        value: 1\n      }],\n      onFilter: (value, record) => record.name.indexOf(value) === 0\n    }, {\n      title: 'Action',\n      render: data => /*#__PURE__*/React.createElement(Space, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.handleMenuClick(data),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, \"\\u0E21\\u0E32\\u0E23\\u0E31\\u0E1A\\u0E41\\u0E25\\u0E49\\u0E27\"), /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.handleMenuClick(data),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, \"\\u0E21\\u0E32\\u0E04\\u0E37\\u0E19\\u0E41\\u0E25\\u0E49\\u0E27\"))\n    }];\n\n    this.getAlllist = async () => {\n      var data = [];\n      const requestOptions = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      await fetch('/getAllList', requestOptions).then(response => response.json()).then(myJson => {\n        myJson.forEach(element => {\n          console.log(element);\n          data.push(element);\n        });\n        this.setState({\n          data: data\n        });\n        console.log(this.state.data);\n      });\n    };\n\n    this.deleteBook = async id => {\n      const requestOptions = {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      await fetch('/Delete?id=' + id, requestOptions).then(response => response.json()).then(myJson => {\n        if (myJson.status == 'Pass') {\n          message.info('ลบหนังสือสำเร็จ');\n          this.getAllbook();\n        }\n      });\n    };\n\n    this.state = {\n      data: [],\n      searchText: '',\n      searchedColumn: ''\n    };\n    this.getAlllist();\n  }\n\n  handleMenuClick(data) {\n    console.log(data);\n  }\n\n  onChange(pagination, filters, sorter, extra) {\n    console.log('params', pagination, filters, sorter, extra);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      columns: this.columns,\n      dataSource: this.state.data,\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["E:/web/Admin/src/Component/Homepage.js"],"names":["React","Table","message","Button","Input","Menu","Tag","Space","Layout","SearchOutlined","Homepage","Component","constructor","props","handleSearch","selectedKeys","confirm","dataIndex","setState","searchText","searchedColumn","handleReset","clearFilters","getColumnSearchProps","filterDropdown","setSelectedKeys","padding","node","searchInput","e","target","value","width","marginBottom","display","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","columns","title","key","render","status","filters","text","name","indexOf","data","handleMenuClick","getAlllist","requestOptions","method","headers","fetch","then","response","json","myJson","forEach","element","console","log","push","state","deleteBook","id","info","getAllbook","onChange","pagination","sorter","extra"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Table, message , Button, Input, Menu, Tag, Space} from 'antd';\r\nimport Layout from '../Layout/Layout';\r\nimport { SearchOutlined } from '@ant-design/icons';\r\n\r\nexport default class Homepage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data : [],\r\n      searchText: '',\r\n      searchedColumn: '',\r\n    };\r\n    this.getAlllist();\r\n  }\r\n  \r\n  handleSearch = (selectedKeys, confirm, dataIndex) => {\r\n    confirm();\r\n    this.setState({\r\n      searchText: selectedKeys[0],\r\n      searchedColumn: dataIndex,\r\n    });\r\n  };\r\n\r\n  handleReset = clearFilters => {\r\n    clearFilters();\r\n    this.setState({ searchText: '' });\r\n  };\r\n\r\n  getColumnSearchProps = dataIndex => ({\r\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={node => {\r\n            this.searchInput = node;\r\n          }}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\r\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\r\n            Reset\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\r\n    onFilter: (value, record) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\r\n        : '',\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => this.searchInput.select(), 100);\r\n      }\r\n    },\r\n  });\r\n\r\n  handleMenuClick(data) {\r\n    console.log(data);\r\n  }\r\n\r\n  columns = [\r\n    {\r\n      title: 'UserName',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n      ...this.getColumnSearchProps('username'),\r\n    },\r\n    {\r\n        title: 'BookID',\r\n        dataIndex: 'BookID',\r\n        key: 'BookID',\r\n    },\r\n    {\r\n        title: 'BookName',\r\n        dataIndex: 'Name',\r\n        key: 'Name',\r\n    },\r\n    {\r\n      title: 'StartDay',\r\n      dataIndex: 'startday',\r\n      key: 'startday',\r\n      ...this.getColumnSearchProps('startday'),\r\n    },\r\n    {\r\n      title: 'EndDay',\r\n      dataIndex: 'endday',\r\n      key: 'endday',\r\n      ...this.getColumnSearchProps('endday'),\r\n    },\r\n    {\r\n      title: 'Status',\r\n      key: 'status',\r\n      dataIndex: 'status',\r\n      render: status => (\r\n        status == 0 ? \r\n          <Tag color={\"blue\"} key={status}>\r\n            ยังไม่ได้มารับ\r\n          </Tag> \r\n        :\r\n        status == 1 ? \r\n          <Tag color={\"volcano\"} key={status}>\r\n            มารับแล้ว\r\n          </Tag> \r\n        :\r\n          <Tag color={\"green\"} key={status}>\r\n            คืนเรียบร้อย\r\n          </Tag> \r\n      ),\r\n      filters: [\r\n        {\r\n          text: 0,\r\n          value: 0,\r\n        },\r\n        {\r\n          text: 1,\r\n          value: 1,\r\n        },\r\n      ],\r\n      onFilter: (value, record) => record.name.indexOf(value) === 0,\r\n    },\r\n    {\r\n      title: 'Action',\r\n      render: (data) => (\r\n        <Space>\r\n          <a onClick={ ()=> this.handleMenuClick(data)}>มารับแล้ว</a>\r\n          <a onClick={ ()=> this.handleMenuClick(data)}>มาคืนแล้ว</a>\r\n        </Space>\r\n        \r\n        \r\n      ),\r\n    },\r\n  ];\r\n\r\n  getAlllist = async() => {\r\n    var data = [];\r\n    const requestOptions = {\r\n      method: 'GET',\r\n      headers: { \r\n          'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    await fetch('/getAllList', requestOptions)\r\n      .then(response=> response.json())\r\n      .then(myJson=> {\r\n        myJson.forEach(element => {\r\n          console.log(element);\r\n          data.push(element);\r\n        });\r\n        this.setState({data:data})\r\n        console.log(this.state.data);\r\n      }) \r\n  };\r\n\r\n  deleteBook = async(id) => {\r\n    const requestOptions = {\r\n        method: 'DELETE',\r\n        headers: { \r\n            'Content-Type': 'application/json',\r\n        },\r\n    };\r\n    await fetch('/Delete?id='+id, requestOptions)\r\n        .then(response=> response.json())\r\n        .then(myJson=> {\r\n            if(myJson.status == 'Pass')\r\n            {\r\n                message.info('ลบหนังสือสำเร็จ');\r\n                this.getAllbook();\r\n            }\r\n    }) \r\n  }\r\n\r\n  onChange(pagination, filters, sorter, extra) {\r\n    console.log('params', pagination, filters, sorter, extra);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Layout>\r\n            <Table columns={this.columns} dataSource={this.state.data} onChange={this.onChange}/>\r\n        </Layout>\r\n      \r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}