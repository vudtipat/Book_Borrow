{"ast":null,"code":"import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Animate from 'rc-animate';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { nodeContextTypes } from './contextTypes';\nimport { getNodeChildren, getDataAndAria, mapChildren, warnOnlyTreeNode } from './util';\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\nvar defaultTitle = '---';\n\nvar TreeNode = function (_React$Component) {\n  _inherits(TreeNode, _React$Component);\n\n  function TreeNode(props) {\n    _classCallCheck(this, TreeNode);\n\n    var _this = _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    return _this;\n  }\n\n  _createClass(TreeNode, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return _extends({}, this.context, {\n        rcTreeNode: {// onUpCheckConduct: this.onUpCheckConduct,\n        }\n      });\n    } // Isomorphic needn't load data in server side\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    } // Disabled item still can be switch\n    // Drag usage\n\n  }, {\n    key: 'isSelectable',\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.context.rcTree.selectable; // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    } // Load data to avoid default expanded tree without data\n    // Switcher\n    // Checkbox\n    // Icon + Title\n    // Children list wrapped with `Animation`\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var loading = this.props.loading;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          dragOver = _props.dragOver,\n          dragOverGapTop = _props.dragOverGapTop,\n          dragOverGapBottom = _props.dragOverGapBottom,\n          isLeaf = _props.isLeaf,\n          expanded = _props.expanded,\n          selected = _props.selected,\n          checked = _props.checked,\n          halfChecked = _props.halfChecked,\n          otherProps = _objectWithoutProperties(_props, ['className', 'style', 'dragOver', 'dragOverGapTop', 'dragOverGapBottom', 'isLeaf', 'expanded', 'selected', 'checked', 'halfChecked']);\n\n      var _context$rcTree = this.context.rcTree,\n          prefixCls = _context$rcTree.prefixCls,\n          filterTreeNode = _context$rcTree.filterTreeNode,\n          draggable = _context$rcTree.draggable;\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n      return React.createElement('li', _extends({\n        className: classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-treenode-disabled', disabled), _defineProperty(_classNames, prefixCls + '-treenode-switcher-' + (expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-checked', checked), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-indeterminate', halfChecked), _defineProperty(_classNames, prefixCls + '-treenode-selected', selected), _defineProperty(_classNames, prefixCls + '-treenode-loading', loading), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(this)), _classNames)),\n        style: style,\n        role: 'treeitem',\n        onDragEnter: draggable ? this.onDragEnter : undefined,\n        onDragOver: draggable ? this.onDragOver : undefined,\n        onDragLeave: draggable ? this.onDragLeave : undefined,\n        onDrop: draggable ? this.onDrop : undefined,\n        onDragEnd: draggable ? this.onDragEnd : undefined\n      }, dataOrAriaAttributeProps), this.renderSwitcher(), this.renderCheckbox(), this.renderSelector(), this.renderChildren());\n    }\n  }]);\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  eventKey: PropTypes.string,\n  // Pass by parent `cloneElement`\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n  // By parent\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  checked: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loading: PropTypes.bool,\n  halfChecked: PropTypes.bool,\n  children: PropTypes.node,\n  title: PropTypes.node,\n  pos: PropTypes.string,\n  dragOver: PropTypes.bool,\n  dragOverGapTop: PropTypes.bool,\n  dragOverGapBottom: PropTypes.bool,\n  // By user\n  isLeaf: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTreeNode.contextTypes = nodeContextTypes;\nTreeNode.childContextTypes = nodeContextTypes;\nTreeNode.defaultProps = {\n  title: defaultTitle\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorClick = function (e) {\n    // Click trigger before select/check operation\n    var onNodeClick = _this2.context.rcTree.onNodeClick;\n    onNodeClick(e, _this2);\n\n    if (_this2.isSelectable()) {\n      _this2.onSelect(e);\n    } else {\n      _this2.onCheck(e);\n    }\n  };\n\n  this.onSelectorDoubleClick = function (e) {\n    var onNodeDoubleClick = _this2.context.rcTree.onNodeDoubleClick;\n    onNodeDoubleClick(e, _this2);\n  };\n\n  this.onSelect = function (e) {\n    if (_this2.isDisabled()) return;\n    var onNodeSelect = _this2.context.rcTree.onNodeSelect;\n    e.preventDefault();\n    onNodeSelect(e, _this2);\n  };\n\n  this.onCheck = function (e) {\n    if (_this2.isDisabled()) return;\n    var _props2 = _this2.props,\n        disableCheckbox = _props2.disableCheckbox,\n        checked = _props2.checked;\n    var _context$rcTree2 = _this2.context.rcTree,\n        checkable = _context$rcTree2.checkable,\n        onNodeCheck = _context$rcTree2.onNodeCheck;\n    if (!checkable || disableCheckbox) return;\n    e.preventDefault();\n    var targetChecked = !checked;\n    onNodeCheck(e, _this2, targetChecked);\n  };\n\n  this.onMouseEnter = function (e) {\n    var onNodeMouseEnter = _this2.context.rcTree.onNodeMouseEnter;\n    onNodeMouseEnter(e, _this2);\n  };\n\n  this.onMouseLeave = function (e) {\n    var onNodeMouseLeave = _this2.context.rcTree.onNodeMouseLeave;\n    onNodeMouseLeave(e, _this2);\n  };\n\n  this.onContextMenu = function (e) {\n    var onNodeContextMenu = _this2.context.rcTree.onNodeContextMenu;\n    onNodeContextMenu(e, _this2);\n  };\n\n  this.onDragStart = function (e) {\n    var onNodeDragStart = _this2.context.rcTree.onNodeDragStart;\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: true\n    });\n\n    onNodeDragStart(e, _this2);\n\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {// empty\n    }\n  };\n\n  this.onDragEnter = function (e) {\n    var onNodeDragEnter = _this2.context.rcTree.onNodeDragEnter;\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragEnter(e, _this2);\n  };\n\n  this.onDragOver = function (e) {\n    var onNodeDragOver = _this2.context.rcTree.onNodeDragOver;\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragOver(e, _this2);\n  };\n\n  this.onDragLeave = function (e) {\n    var onNodeDragLeave = _this2.context.rcTree.onNodeDragLeave;\n    e.stopPropagation();\n    onNodeDragLeave(e, _this2);\n  };\n\n  this.onDragEnd = function (e) {\n    var onNodeDragEnd = _this2.context.rcTree.onNodeDragEnd;\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n\n    onNodeDragEnd(e, _this2);\n  };\n\n  this.onDrop = function (e) {\n    var onNodeDrop = _this2.context.rcTree.onNodeDrop;\n    e.preventDefault();\n    e.stopPropagation();\n\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n\n    onNodeDrop(e, _this2);\n  };\n\n  this.onExpand = function (e) {\n    var onNodeExpand = _this2.context.rcTree.onNodeExpand;\n    onNodeExpand(e, _this2);\n  };\n\n  this.setSelectHandle = function (node) {\n    _this2.selectHandle = node;\n  };\n\n  this.getNodeChildren = function () {\n    var children = _this2.props.children;\n    var originList = toArray(children).filter(function (node) {\n      return node;\n    });\n    var targetList = getNodeChildren(originList);\n\n    if (originList.length !== targetList.length) {\n      warnOnlyTreeNode();\n    }\n\n    return targetList;\n  };\n\n  this.getNodeState = function () {\n    var expanded = _this2.props.expanded;\n\n    if (_this2.isLeaf()) {\n      return null;\n    }\n\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  };\n\n  this.isLeaf = function () {\n    var _props3 = _this2.props,\n        isLeaf = _props3.isLeaf,\n        loaded = _props3.loaded;\n    var loadData = _this2.context.rcTree.loadData;\n    var hasChildren = _this2.getNodeChildren().length !== 0;\n\n    if (isLeaf === false) {\n      return false;\n    }\n\n    return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n  };\n\n  this.isDisabled = function () {\n    var disabled = _this2.props.disabled;\n    var treeDisabled = _this2.context.rcTree.disabled; // Follow the logic of Selectable\n\n    if (disabled === false) {\n      return false;\n    }\n\n    return !!(treeDisabled || disabled);\n  };\n\n  this.syncLoadData = function (props) {\n    var expanded = props.expanded,\n        loading = props.loading,\n        loaded = props.loaded;\n    var _context$rcTree3 = _this2.context.rcTree,\n        loadData = _context$rcTree3.loadData,\n        onNodeLoad = _context$rcTree3.onNodeLoad;\n    if (loading) return; // read from state to avoid loadData at same time\n\n    if (loadData && expanded && !_this2.isLeaf()) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      var hasChildren = _this2.getNodeChildren().length !== 0;\n\n      if (!hasChildren && !loaded) {\n        onNodeLoad(_this2);\n      }\n    }\n  };\n\n  this.renderSwitcher = function () {\n    var _props4 = _this2.props,\n        expanded = _props4.expanded,\n        switcherIconFromProps = _props4.switcherIcon;\n    var _context$rcTree4 = _this2.context.rcTree,\n        prefixCls = _context$rcTree4.prefixCls,\n        switcherIconFromCtx = _context$rcTree4.switcherIcon;\n    var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n    if (_this2.isLeaf()) {\n      return React.createElement('span', {\n        className: classNames(prefixCls + '-switcher', prefixCls + '-switcher-noop')\n      }, typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, {\n        isLeaf: true\n      })) : switcherIcon);\n    }\n\n    var switcherCls = classNames(prefixCls + '-switcher', prefixCls + '-switcher_' + (expanded ? ICON_OPEN : ICON_CLOSE));\n    return React.createElement('span', {\n      onClick: _this2.onExpand,\n      className: switcherCls\n    }, typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, {\n      isLeaf: false\n    })) : switcherIcon);\n  };\n\n  this.renderCheckbox = function () {\n    var _props5 = _this2.props,\n        checked = _props5.checked,\n        halfChecked = _props5.halfChecked,\n        disableCheckbox = _props5.disableCheckbox;\n    var _context$rcTree5 = _this2.context.rcTree,\n        prefixCls = _context$rcTree5.prefixCls,\n        checkable = _context$rcTree5.checkable;\n\n    var disabled = _this2.isDisabled();\n\n    if (!checkable) return null; // [Legacy] Custom element should be separate with `checkable` in future\n\n    var $custom = typeof checkable !== 'boolean' ? checkable : null;\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-checkbox', checked && prefixCls + '-checkbox-checked', !checked && halfChecked && prefixCls + '-checkbox-indeterminate', (disabled || disableCheckbox) && prefixCls + '-checkbox-disabled'),\n      onClick: _this2.onCheck\n    }, $custom);\n  };\n\n  this.renderIcon = function () {\n    var loading = _this2.props.loading;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__' + (_this2.getNodeState() || 'docu'), loading && prefixCls + '-icon_loading')\n    });\n  };\n\n  this.renderSelector = function () {\n    var dragNodeHighlight = _this2.state.dragNodeHighlight;\n    var _props6 = _this2.props,\n        title = _props6.title,\n        selected = _props6.selected,\n        icon = _props6.icon,\n        loading = _props6.loading;\n    var _context$rcTree6 = _this2.context.rcTree,\n        prefixCls = _context$rcTree6.prefixCls,\n        showIcon = _context$rcTree6.showIcon,\n        treeIcon = _context$rcTree6.icon,\n        draggable = _context$rcTree6.draggable,\n        loadData = _context$rcTree6.loadData;\n\n    var disabled = _this2.isDisabled();\n\n    var wrapClass = prefixCls + '-node-content-wrapper'; // Icon - Still show loading icon when loading without showIcon\n\n    var $icon = void 0;\n\n    if (showIcon) {\n      var currentIcon = icon || treeIcon;\n      $icon = currentIcon ? React.createElement('span', {\n        className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__customize')\n      }, typeof currentIcon === 'function' ? React.createElement(currentIcon, _extends({}, _this2.props)) : currentIcon) : _this2.renderIcon();\n    } else if (loadData && loading) {\n      $icon = _this2.renderIcon();\n    } // Title\n\n\n    var $title = React.createElement('span', {\n      className: prefixCls + '-title'\n    }, title);\n    return React.createElement('span', {\n      ref: _this2.setSelectHandle,\n      title: typeof title === 'string' ? title : '',\n      className: classNames('' + wrapClass, wrapClass + '-' + (_this2.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && prefixCls + '-node-selected', !disabled && draggable && 'draggable'),\n      draggable: !disabled && draggable || undefined,\n      'aria-grabbed': !disabled && draggable || undefined,\n      onMouseEnter: _this2.onMouseEnter,\n      onMouseLeave: _this2.onMouseLeave,\n      onContextMenu: _this2.onContextMenu,\n      onClick: _this2.onSelectorClick,\n      onDoubleClick: _this2.onSelectorDoubleClick,\n      onDragStart: draggable ? _this2.onDragStart : undefined\n    }, $icon, $title);\n  };\n\n  this.renderChildren = function () {\n    var _props7 = _this2.props,\n        expanded = _props7.expanded,\n        pos = _props7.pos;\n    var _context$rcTree7 = _this2.context.rcTree,\n        prefixCls = _context$rcTree7.prefixCls,\n        openTransitionName = _context$rcTree7.openTransitionName,\n        openAnimation = _context$rcTree7.openAnimation,\n        renderTreeNode = _context$rcTree7.renderTreeNode;\n    var animProps = {};\n\n    if (openTransitionName) {\n      animProps.transitionName = openTransitionName;\n    } else if (typeof openAnimation === 'object') {\n      animProps.animation = _extends({}, openAnimation);\n    } // Children TreeNode\n\n\n    var nodeList = _this2.getNodeChildren();\n\n    if (nodeList.length === 0) {\n      return null;\n    }\n\n    var $children = void 0;\n\n    if (expanded) {\n      $children = React.createElement('ul', {\n        className: classNames(prefixCls + '-child-tree', expanded && prefixCls + '-child-tree-open'),\n        'data-expanded': expanded,\n        role: 'group'\n      }, mapChildren(nodeList, function (node, index) {\n        return renderTreeNode(node, index, pos);\n      }));\n    }\n\n    return React.createElement(Animate, _extends({}, animProps, {\n      showProp: 'data-expanded',\n      component: ''\n    }), $children);\n  };\n};\n\nTreeNode.isTreeNode = 1;\npolyfill(TreeNode);\nexport default TreeNode;","map":{"version":3,"sources":["E:/web/bookstore/node_modules/rc-tree/es/TreeNode.js"],"names":["_defineProperty","_objectWithoutProperties","_extends","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","classNames","Animate","toArray","polyfill","nodeContextTypes","getNodeChildren","getDataAndAria","mapChildren","warnOnlyTreeNode","ICON_OPEN","ICON_CLOSE","defaultTitle","TreeNode","_React$Component","props","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","state","dragNodeHighlight","key","value","getChildContext","context","rcTreeNode","componentDidMount","syncLoadData","componentDidUpdate","isSelectable","selectable","treeSelectable","rcTree","render","_classNames","loading","_props","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","expanded","selected","checked","halfChecked","otherProps","_context$rcTree","prefixCls","filterTreeNode","draggable","disabled","isDisabled","dataOrAriaAttributeProps","createElement","role","onDragEnter","undefined","onDragOver","onDragLeave","onDrop","onDragEnd","renderSwitcher","renderCheckbox","renderSelector","renderChildren","Component","propTypes","eventKey","string","object","root","onSelect","func","bool","loaded","children","node","title","pos","disableCheckbox","icon","oneOfType","switcherIcon","contextTypes","childContextTypes","defaultProps","_this2","onSelectorClick","e","onNodeClick","onCheck","onSelectorDoubleClick","onNodeDoubleClick","onNodeSelect","preventDefault","_props2","_context$rcTree2","checkable","onNodeCheck","targetChecked","onMouseEnter","onNodeMouseEnter","onMouseLeave","onNodeMouseLeave","onContextMenu","onNodeContextMenu","onDragStart","onNodeDragStart","stopPropagation","setState","dataTransfer","setData","error","onNodeDragEnter","onNodeDragOver","onNodeDragLeave","onNodeDragEnd","onNodeDrop","onExpand","onNodeExpand","setSelectHandle","selectHandle","originList","filter","targetList","length","getNodeState","_props3","loadData","hasChildren","treeDisabled","_context$rcTree3","onNodeLoad","_props4","switcherIconFromProps","_context$rcTree4","switcherIconFromCtx","switcherCls","onClick","_props5","_context$rcTree5","$custom","renderIcon","_props6","_context$rcTree6","showIcon","treeIcon","wrapClass","$icon","currentIcon","$title","ref","onDoubleClick","_props7","_context$rcTree7","openTransitionName","openAnimation","renderTreeNode","animProps","transitionName","animation","nodeList","$children","index","showProp","component","isTreeNode"],"mappings":"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","sourcesContent":["import _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Animate from 'rc-animate';\nimport toArray from 'rc-util/es/Children/toArray';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { nodeContextTypes } from './contextTypes';\nimport { getNodeChildren, getDataAndAria, mapChildren, warnOnlyTreeNode } from './util';\n\nvar ICON_OPEN = 'open';\nvar ICON_CLOSE = 'close';\n\nvar defaultTitle = '---';\n\nvar TreeNode = function (_React$Component) {\n  _inherits(TreeNode, _React$Component);\n\n  function TreeNode(props) {\n    _classCallCheck(this, TreeNode);\n\n    var _this = _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragNodeHighlight: false\n    };\n    return _this;\n  }\n\n  _createClass(TreeNode, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return _extends({}, this.context, {\n        rcTreeNode: {\n          // onUpCheckConduct: this.onUpCheckConduct,\n        }\n      });\n    }\n\n    // Isomorphic needn't load data in server side\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.syncLoadData(this.props);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.syncLoadData(this.props);\n    }\n\n    // Disabled item still can be switch\n\n\n    // Drag usage\n\n  }, {\n    key: 'isSelectable',\n    value: function isSelectable() {\n      var selectable = this.props.selectable;\n      var treeSelectable = this.context.rcTree.selectable;\n\n      // Ignore when selectable is undefined or null\n\n      if (typeof selectable === 'boolean') {\n        return selectable;\n      }\n\n      return treeSelectable;\n    }\n\n    // Load data to avoid default expanded tree without data\n\n\n    // Switcher\n\n\n    // Checkbox\n\n\n    // Icon + Title\n\n\n    // Children list wrapped with `Animation`\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classNames;\n\n      var loading = this.props.loading;\n\n      var _props = this.props,\n          className = _props.className,\n          style = _props.style,\n          dragOver = _props.dragOver,\n          dragOverGapTop = _props.dragOverGapTop,\n          dragOverGapBottom = _props.dragOverGapBottom,\n          isLeaf = _props.isLeaf,\n          expanded = _props.expanded,\n          selected = _props.selected,\n          checked = _props.checked,\n          halfChecked = _props.halfChecked,\n          otherProps = _objectWithoutProperties(_props, ['className', 'style', 'dragOver', 'dragOverGapTop', 'dragOverGapBottom', 'isLeaf', 'expanded', 'selected', 'checked', 'halfChecked']);\n\n      var _context$rcTree = this.context.rcTree,\n          prefixCls = _context$rcTree.prefixCls,\n          filterTreeNode = _context$rcTree.filterTreeNode,\n          draggable = _context$rcTree.draggable;\n\n      var disabled = this.isDisabled();\n      var dataOrAriaAttributeProps = getDataAndAria(otherProps);\n\n      return React.createElement(\n        'li',\n        _extends({\n          className: classNames(className, (_classNames = {}, _defineProperty(_classNames, prefixCls + '-treenode-disabled', disabled), _defineProperty(_classNames, prefixCls + '-treenode-switcher-' + (expanded ? 'open' : 'close'), !isLeaf), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-checked', checked), _defineProperty(_classNames, prefixCls + '-treenode-checkbox-indeterminate', halfChecked), _defineProperty(_classNames, prefixCls + '-treenode-selected', selected), _defineProperty(_classNames, prefixCls + '-treenode-loading', loading), _defineProperty(_classNames, 'drag-over', !disabled && dragOver), _defineProperty(_classNames, 'drag-over-gap-top', !disabled && dragOverGapTop), _defineProperty(_classNames, 'drag-over-gap-bottom', !disabled && dragOverGapBottom), _defineProperty(_classNames, 'filter-node', filterTreeNode && filterTreeNode(this)), _classNames)),\n\n          style: style,\n\n          role: 'treeitem',\n\n          onDragEnter: draggable ? this.onDragEnter : undefined,\n          onDragOver: draggable ? this.onDragOver : undefined,\n          onDragLeave: draggable ? this.onDragLeave : undefined,\n          onDrop: draggable ? this.onDrop : undefined,\n          onDragEnd: draggable ? this.onDragEnd : undefined\n        }, dataOrAriaAttributeProps),\n        this.renderSwitcher(),\n        this.renderCheckbox(),\n        this.renderSelector(),\n        this.renderChildren()\n      );\n    }\n  }]);\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  eventKey: PropTypes.string, // Pass by parent `cloneElement`\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  root: PropTypes.object,\n  onSelect: PropTypes.func,\n\n  // By parent\n  expanded: PropTypes.bool,\n  selected: PropTypes.bool,\n  checked: PropTypes.bool,\n  loaded: PropTypes.bool,\n  loading: PropTypes.bool,\n  halfChecked: PropTypes.bool,\n  children: PropTypes.node,\n  title: PropTypes.node,\n  pos: PropTypes.string,\n  dragOver: PropTypes.bool,\n  dragOverGapTop: PropTypes.bool,\n  dragOverGapBottom: PropTypes.bool,\n\n  // By user\n  isLeaf: PropTypes.bool,\n  selectable: PropTypes.bool,\n  disabled: PropTypes.bool,\n  disableCheckbox: PropTypes.bool,\n  icon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  switcherIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nTreeNode.contextTypes = nodeContextTypes;\nTreeNode.childContextTypes = nodeContextTypes;\nTreeNode.defaultProps = {\n  title: defaultTitle\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onSelectorClick = function (e) {\n    // Click trigger before select/check operation\n    var onNodeClick = _this2.context.rcTree.onNodeClick;\n\n    onNodeClick(e, _this2);\n\n    if (_this2.isSelectable()) {\n      _this2.onSelect(e);\n    } else {\n      _this2.onCheck(e);\n    }\n  };\n\n  this.onSelectorDoubleClick = function (e) {\n    var onNodeDoubleClick = _this2.context.rcTree.onNodeDoubleClick;\n\n    onNodeDoubleClick(e, _this2);\n  };\n\n  this.onSelect = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var onNodeSelect = _this2.context.rcTree.onNodeSelect;\n\n    e.preventDefault();\n    onNodeSelect(e, _this2);\n  };\n\n  this.onCheck = function (e) {\n    if (_this2.isDisabled()) return;\n\n    var _props2 = _this2.props,\n        disableCheckbox = _props2.disableCheckbox,\n        checked = _props2.checked;\n    var _context$rcTree2 = _this2.context.rcTree,\n        checkable = _context$rcTree2.checkable,\n        onNodeCheck = _context$rcTree2.onNodeCheck;\n\n\n    if (!checkable || disableCheckbox) return;\n\n    e.preventDefault();\n    var targetChecked = !checked;\n    onNodeCheck(e, _this2, targetChecked);\n  };\n\n  this.onMouseEnter = function (e) {\n    var onNodeMouseEnter = _this2.context.rcTree.onNodeMouseEnter;\n\n    onNodeMouseEnter(e, _this2);\n  };\n\n  this.onMouseLeave = function (e) {\n    var onNodeMouseLeave = _this2.context.rcTree.onNodeMouseLeave;\n\n    onNodeMouseLeave(e, _this2);\n  };\n\n  this.onContextMenu = function (e) {\n    var onNodeContextMenu = _this2.context.rcTree.onNodeContextMenu;\n\n    onNodeContextMenu(e, _this2);\n  };\n\n  this.onDragStart = function (e) {\n    var onNodeDragStart = _this2.context.rcTree.onNodeDragStart;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: true\n    });\n    onNodeDragStart(e, _this2);\n\n    try {\n      // ie throw error\n      // firefox-need-it\n      e.dataTransfer.setData('text/plain', '');\n    } catch (error) {\n      // empty\n    }\n  };\n\n  this.onDragEnter = function (e) {\n    var onNodeDragEnter = _this2.context.rcTree.onNodeDragEnter;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragEnter(e, _this2);\n  };\n\n  this.onDragOver = function (e) {\n    var onNodeDragOver = _this2.context.rcTree.onNodeDragOver;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    onNodeDragOver(e, _this2);\n  };\n\n  this.onDragLeave = function (e) {\n    var onNodeDragLeave = _this2.context.rcTree.onNodeDragLeave;\n\n\n    e.stopPropagation();\n    onNodeDragLeave(e, _this2);\n  };\n\n  this.onDragEnd = function (e) {\n    var onNodeDragEnd = _this2.context.rcTree.onNodeDragEnd;\n\n\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDragEnd(e, _this2);\n  };\n\n  this.onDrop = function (e) {\n    var onNodeDrop = _this2.context.rcTree.onNodeDrop;\n\n\n    e.preventDefault();\n    e.stopPropagation();\n    _this2.setState({\n      dragNodeHighlight: false\n    });\n    onNodeDrop(e, _this2);\n  };\n\n  this.onExpand = function (e) {\n    var onNodeExpand = _this2.context.rcTree.onNodeExpand;\n\n    onNodeExpand(e, _this2);\n  };\n\n  this.setSelectHandle = function (node) {\n    _this2.selectHandle = node;\n  };\n\n  this.getNodeChildren = function () {\n    var children = _this2.props.children;\n\n    var originList = toArray(children).filter(function (node) {\n      return node;\n    });\n    var targetList = getNodeChildren(originList);\n\n    if (originList.length !== targetList.length) {\n      warnOnlyTreeNode();\n    }\n\n    return targetList;\n  };\n\n  this.getNodeState = function () {\n    var expanded = _this2.props.expanded;\n\n\n    if (_this2.isLeaf()) {\n      return null;\n    }\n\n    return expanded ? ICON_OPEN : ICON_CLOSE;\n  };\n\n  this.isLeaf = function () {\n    var _props3 = _this2.props,\n        isLeaf = _props3.isLeaf,\n        loaded = _props3.loaded;\n    var loadData = _this2.context.rcTree.loadData;\n\n\n    var hasChildren = _this2.getNodeChildren().length !== 0;\n\n    if (isLeaf === false) {\n      return false;\n    }\n\n    return isLeaf || !loadData && !hasChildren || loadData && loaded && !hasChildren;\n  };\n\n  this.isDisabled = function () {\n    var disabled = _this2.props.disabled;\n    var treeDisabled = _this2.context.rcTree.disabled;\n\n    // Follow the logic of Selectable\n\n    if (disabled === false) {\n      return false;\n    }\n\n    return !!(treeDisabled || disabled);\n  };\n\n  this.syncLoadData = function (props) {\n    var expanded = props.expanded,\n        loading = props.loading,\n        loaded = props.loaded;\n    var _context$rcTree3 = _this2.context.rcTree,\n        loadData = _context$rcTree3.loadData,\n        onNodeLoad = _context$rcTree3.onNodeLoad;\n\n\n    if (loading) return;\n\n    // read from state to avoid loadData at same time\n    if (loadData && expanded && !_this2.isLeaf()) {\n      // We needn't reload data when has children in sync logic\n      // It's only needed in node expanded\n      var hasChildren = _this2.getNodeChildren().length !== 0;\n      if (!hasChildren && !loaded) {\n        onNodeLoad(_this2);\n      }\n    }\n  };\n\n  this.renderSwitcher = function () {\n    var _props4 = _this2.props,\n        expanded = _props4.expanded,\n        switcherIconFromProps = _props4.switcherIcon;\n    var _context$rcTree4 = _this2.context.rcTree,\n        prefixCls = _context$rcTree4.prefixCls,\n        switcherIconFromCtx = _context$rcTree4.switcherIcon;\n\n\n    var switcherIcon = switcherIconFromProps || switcherIconFromCtx;\n\n    if (_this2.isLeaf()) {\n      return React.createElement(\n        'span',\n        { className: classNames(prefixCls + '-switcher', prefixCls + '-switcher-noop') },\n        typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, { isLeaf: true })) : switcherIcon\n      );\n    }\n\n    var switcherCls = classNames(prefixCls + '-switcher', prefixCls + '-switcher_' + (expanded ? ICON_OPEN : ICON_CLOSE));\n    return React.createElement(\n      'span',\n      { onClick: _this2.onExpand, className: switcherCls },\n      typeof switcherIcon === 'function' ? React.createElement(switcherIcon, _extends({}, _this2.props, { isLeaf: false })) : switcherIcon\n    );\n  };\n\n  this.renderCheckbox = function () {\n    var _props5 = _this2.props,\n        checked = _props5.checked,\n        halfChecked = _props5.halfChecked,\n        disableCheckbox = _props5.disableCheckbox;\n    var _context$rcTree5 = _this2.context.rcTree,\n        prefixCls = _context$rcTree5.prefixCls,\n        checkable = _context$rcTree5.checkable;\n\n    var disabled = _this2.isDisabled();\n\n    if (!checkable) return null;\n\n    // [Legacy] Custom element should be separate with `checkable` in future\n    var $custom = typeof checkable !== 'boolean' ? checkable : null;\n\n    return React.createElement(\n      'span',\n      {\n        className: classNames(prefixCls + '-checkbox', checked && prefixCls + '-checkbox-checked', !checked && halfChecked && prefixCls + '-checkbox-indeterminate', (disabled || disableCheckbox) && prefixCls + '-checkbox-disabled'),\n        onClick: _this2.onCheck\n      },\n      $custom\n    );\n  };\n\n  this.renderIcon = function () {\n    var loading = _this2.props.loading;\n    var prefixCls = _this2.context.rcTree.prefixCls;\n\n\n    return React.createElement('span', {\n      className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__' + (_this2.getNodeState() || 'docu'), loading && prefixCls + '-icon_loading')\n    });\n  };\n\n  this.renderSelector = function () {\n    var dragNodeHighlight = _this2.state.dragNodeHighlight;\n    var _props6 = _this2.props,\n        title = _props6.title,\n        selected = _props6.selected,\n        icon = _props6.icon,\n        loading = _props6.loading;\n    var _context$rcTree6 = _this2.context.rcTree,\n        prefixCls = _context$rcTree6.prefixCls,\n        showIcon = _context$rcTree6.showIcon,\n        treeIcon = _context$rcTree6.icon,\n        draggable = _context$rcTree6.draggable,\n        loadData = _context$rcTree6.loadData;\n\n    var disabled = _this2.isDisabled();\n\n    var wrapClass = prefixCls + '-node-content-wrapper';\n\n    // Icon - Still show loading icon when loading without showIcon\n    var $icon = void 0;\n\n    if (showIcon) {\n      var currentIcon = icon || treeIcon;\n\n      $icon = currentIcon ? React.createElement(\n        'span',\n        {\n          className: classNames(prefixCls + '-iconEle', prefixCls + '-icon__customize')\n        },\n        typeof currentIcon === 'function' ? React.createElement(currentIcon, _extends({}, _this2.props)) : currentIcon\n      ) : _this2.renderIcon();\n    } else if (loadData && loading) {\n      $icon = _this2.renderIcon();\n    }\n\n    // Title\n    var $title = React.createElement(\n      'span',\n      { className: prefixCls + '-title' },\n      title\n    );\n\n    return React.createElement(\n      'span',\n      {\n        ref: _this2.setSelectHandle,\n        title: typeof title === 'string' ? title : '',\n        className: classNames('' + wrapClass, wrapClass + '-' + (_this2.getNodeState() || 'normal'), !disabled && (selected || dragNodeHighlight) && prefixCls + '-node-selected', !disabled && draggable && 'draggable'),\n        draggable: !disabled && draggable || undefined,\n        'aria-grabbed': !disabled && draggable || undefined,\n\n        onMouseEnter: _this2.onMouseEnter,\n        onMouseLeave: _this2.onMouseLeave,\n        onContextMenu: _this2.onContextMenu,\n        onClick: _this2.onSelectorClick,\n        onDoubleClick: _this2.onSelectorDoubleClick,\n        onDragStart: draggable ? _this2.onDragStart : undefined\n      },\n      $icon,\n      $title\n    );\n  };\n\n  this.renderChildren = function () {\n    var _props7 = _this2.props,\n        expanded = _props7.expanded,\n        pos = _props7.pos;\n    var _context$rcTree7 = _this2.context.rcTree,\n        prefixCls = _context$rcTree7.prefixCls,\n        openTransitionName = _context$rcTree7.openTransitionName,\n        openAnimation = _context$rcTree7.openAnimation,\n        renderTreeNode = _context$rcTree7.renderTreeNode;\n\n\n    var animProps = {};\n    if (openTransitionName) {\n      animProps.transitionName = openTransitionName;\n    } else if (typeof openAnimation === 'object') {\n      animProps.animation = _extends({}, openAnimation);\n    }\n\n    // Children TreeNode\n    var nodeList = _this2.getNodeChildren();\n\n    if (nodeList.length === 0) {\n      return null;\n    }\n\n    var $children = void 0;\n    if (expanded) {\n      $children = React.createElement(\n        'ul',\n        {\n          className: classNames(prefixCls + '-child-tree', expanded && prefixCls + '-child-tree-open'),\n          'data-expanded': expanded,\n          role: 'group'\n        },\n        mapChildren(nodeList, function (node, index) {\n          return renderTreeNode(node, index, pos);\n        })\n      );\n    }\n\n    return React.createElement(\n      Animate,\n      _extends({}, animProps, {\n        showProp: 'data-expanded',\n        component: ''\n      }),\n      $children\n    );\n  };\n};\n\nTreeNode.isTreeNode = 1;\n\npolyfill(TreeNode);\n\nexport default TreeNode;"]},"metadata":{},"sourceType":"module"}